#### 并发

>- go语言的并发指能让某个函数独立于其他函数运行的能力
>- 当一个函数创建为goruntine时，go会视其为独立的工作单元，此单元会调度至可用的逻辑处理器上执行。
>- go通过调度器管理所有的goruntine并分配执行时间。调度器将操作系统的线程和语言的逻辑处理器绑定并允许goruntine。
>- 调度器在任何给定的时间都会全面控制goruntine在哪个逻辑处理器上运行。
>- go的并发同步类型是通信顺序进程（Communicating Sequential Process，CSP）的模型。
>- CSP是一种消息传递模型，通过在goruntine间同步传递数据来传递消息，而不是通过加锁实现同步访问。
>- 用于在goruntine间同步传递的关键数据类型叫做通道（channel）。
>- 使用通道能使并发更容易，更少出错

##### 并发与并行

- 进程
  - 进程可以看作是一个包含了应用程序在运行中需要用到和维护的各种资源的容器。
  - 资源包括不限于:内存地址空间、文件和设备的句柄、线程。

- 并发
  - 处理并发时，操作系统会在物理处理器上调度线程来运行，而Go运行时会在逻辑处理器上调度goruntine来运行。
  - go运行是默认为每个可用的物理处理器分配一个逻辑处理器，这些处理器会执行所以创建的goruntine，即便只有一个处理器，go也能高效率调度很多goruntine
  - 创建一个goruntine并准备运行时，该goruntine会被放到调度器的全局运行队列中，之后将其分配给一个逻辑处理器，并放到这个逻辑处理器对应的本地运行队列中，本地队列的goruntine会一直等待直到自己被分配的逻辑处理器执行
  - goruntine需要执行一个阻塞的系统调用时，会根据具体情况采用不同的策略：
    - 文件调用阻塞：线程和goruntine会从逻辑处理器分离，线程阻塞，等待系统调用返回，逻辑处理器失去原来运行的线程，会创建一个新线程绑定到改逻辑处理器上。之后，调度器会从本地运行队列里选择另一个goroutine来运行。一旦被阻塞的系统调用执行完成并返回，对应的goroutine会放回到本地运行队列，而之前的线程会保存好，以便之后可以继续使用。
    - io阻塞：goroutine会和逻辑处理器分离，并移到集成了网络轮询器的运行时。一旦该轮询器指示某个网络读或者写操作已经就绪，对应的goroutine就会重新分配到逻辑处理器上来完成操作。这个和js很像

##### goruntine

- 通过go关键字声明创建goruntine
